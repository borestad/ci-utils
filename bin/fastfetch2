#!/usr/bin/env bash

# Extra args
type -p pveversion &> /dev/null && args="-l proxmox"
REALUSER="${SUDO_USER:-${USER}}"

fastfetch \
  -s Title:Separator:OS:Host:Kernel:Uptime:Packages:CPU:GPU:Memory:Disk:Battery:PowerAdapter:Separator:LocalIP:command:Break \
  --command-text '\curl -sL http://ipv4.icanhazip.com' --command-key 'Public IP' \
  --pipe false \
  ${args} >| "/tmp/ff-$REALUSER.txt"

\cat /tmp/ff-$REALUSER.txt
